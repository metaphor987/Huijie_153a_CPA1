{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { ValueContext } from \"./ValueContext\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nvar TestPage = function TestPage() {\n  var _useContext = useContext(ValueContext),\n      changeInfo = _useContext.changeInfo;\n\n  var _useContext2 = useContext(ValueContext),\n      name = _useContext2.name;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      previous = _useState2[0],\n      setPrevious = _useState2[1];\n\n  var save = function save(previous) {\n    var ans;\n    return _regeneratorRuntime.async(function save$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            previous = name;\n            console.log(previous);\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"PreviousName\", previous));\n\n          case 5:\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"PreviousName\"));\n\n          case 7:\n            ans = _context.sent;\n            console.log(ans);\n            console.log(\"This is what in the key\");\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            alert(_context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 12]], Promise);\n  };\n\n  var load = function load() {\n    var ans;\n    return _regeneratorRuntime.async(function load$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"PreviousName\"));\n\n          case 3:\n            ans = _context2.sent;\n\n            if (ans != null) {\n              setPrevious(ans);\n              console.log(ans);\n              console.log(\"load is running\");\n            } else {\n              console.log(\"ans is null\");\n            }\n\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            alert(_context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  var remove = function remove() {\n    return _regeneratorRuntime.async(function remove$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            console.log(\"remove is running\");\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"PreviousName\"));\n\n          case 4:\n            _context3.next = 9;\n            break;\n\n          case 6:\n            _context3.prev = 6;\n            _context3.t0 = _context3[\"catch\"](0);\n            alert(_context3.t0);\n\n          case 9:\n            _context3.prev = 9;\n            setPrevious(\"\");\n            return _context3.finish(9);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 6, 9, 12]], Promise);\n  };\n\n  useEffect(function () {\n    load();\n  }, []);\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(View, {\n    style: {\n      flex: 2,\n      backgroundColor: '',\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, React.createElement(Text, {\n    style: styles.header\n  }, \"Login Page\")), React.createElement(View, {\n    style: {\n      flex: 2,\n      backgroundColor: ''\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20\n    }\n  }, \"What is your name?\")), React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, changeInfo, React.createElement(Text, null, \"Previous Username: \", previous))), React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: '',\n      justifyContent: 'center'\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      setPrevious(name);\n      save(previous);\n    }\n  }, React.createElement(Text, null, \"Save my name!\"))), React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: '',\n      justifyContent: 'center'\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      return remove();\n    }\n  }, React.createElement(Text, null, \"Remove my name!\"))), React.createElement(View, {\n    style: {\n      flex: 2\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'stretch',\n    justifyContent: 'center',\n    margin: 30\n  },\n  header: {\n    fontSize: 25,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#3498db\",\n    margin: 10,\n    padding: 10,\n    borderRadius: 15,\n    shadowColor: '#2a2a2a',\n    shadowOpacity: 0.15,\n    shadowRadius: 4,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    elevation: 2\n  }\n});\nexport default TestPage;","map":{"version":3,"names":["React","useState","useEffect","useContext","ValueContext","AsyncStorage","TestPage","changeInfo","name","previous","setPrevious","save","console","log","setItem","getItem","ans","alert","load","remove","removeItem","styles","container","flex","backgroundColor","justifyContent","alignItems","header","fontSize","button","StyleSheet","create","margin","padding","borderRadius","shadowColor","shadowOpacity","shadowRadius","shadowOffset","width","height","elevation"],"sources":["/Users/melon/Documents/projects/reading-log-mobile-app/components/LoginPage3.js"],"sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport {ValueContext} from './ValueContext';\n\nimport {StyleSheet, Text, Image, View, TextInput, TouchableOpacity} from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\n\n\nconst TestPage = () => {\n\n  const {changeInfo} = useContext(ValueContext);\n  const {name} = useContext(ValueContext);\n  const [previous, setPrevious] = useState('');\n\n  const save = async(previous) => {\n    try{\n      previous = name\n      console.log(previous)\n      await AsyncStorage.setItem(\"PreviousName\", previous)\n      const ans = await AsyncStorage.getItem(\"PreviousName\")\n      console.log(ans)\n      console.log(\"This is what in the key\")\n    }catch(err){\n      alert(err);\n    }\n  }\n\n  const load = async() => {\n    try{\n      const ans = await AsyncStorage.getItem(\"PreviousName\")\n      if (ans != null){\n        setPrevious(ans);\n        console.log(ans);\n        console.log(\"load is running\")\n      } else {\n        console.log(\"ans is null\")\n      }\n    } catch(err){\n      alert(err);\n    }\n  }\n\n  const remove = async() => {\n    try{\n      console.log(\"remove is running\")\n      await AsyncStorage.removeItem(\"PreviousName\")\n    }catch(err){\n      alert(err)\n    } finally{\n      setPrevious(\"\")\n    }\n  }\n\n  useEffect(() => {\n    load();\n  }, []);\n\n\n  return(\n    <View style={styles.container}>\n      <View style={{flex:2, backgroundColor:'', justifyContent:'center', alignItems:'center'}}>\n          <Text style={styles.header}>Login Page</Text>\n      </View>\n\n      <View style={{flex:2, backgroundColor:''}}>\n      <View style={{flex:1, justifyContent:'center', alignItems:'center'}}>\n          <Text style={{fontSize:20,}}>What is your name?</Text>\n      </View>\n      <View style={{flex:1, justifyContent:'center', alignItems:'center'}}>\n          {changeInfo}\n          <Text>Previous Username: {previous}</Text>\n      </View>\n      </View>\n\n      <View style={{flex:1, backgroundColor:'',justifyContent:'center'}}>\n        <TouchableOpacity\n            style={styles.button}\n            onPress={() => {setPrevious(name)\n                            save(previous)}}\n        >\n          <Text>Save my name!</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={{flex:1, backgroundColor:'',justifyContent:'center'}}>\n        <TouchableOpacity\n            style={styles.button}\n            onPress={() => remove()}\n        >\n          <Text>Remove my name!</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={{flex:2}}></View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container:{\n    flex: 1,\n    alignItems: 'stretch',\n    justifyContent: 'center',\n    margin:30,\n  },\n  header:{\n    fontSize:25,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: \"#3498db\",\n    margin:10,\n    padding: 10,\n    borderRadius: 15,\n    shadowColor:'#2a2a2a',\n    shadowOpacity:0.15,\n    shadowRadius:4,\n    shadowOffset:{\n      width:0,\n      height:2\n    },\n    elevation:2,\n  },\n});\n\nexport default TestPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}